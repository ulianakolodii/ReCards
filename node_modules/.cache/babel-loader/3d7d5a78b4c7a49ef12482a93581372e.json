{"ast":null,"code":"var allowedVariants = ['normal', 'small-caps'];\n/**\n * Gets font CSS shorthand property given element.\n *\n * @param {HTMLElement} element Element to get font CSS shorthand property from\n */\n\nexport function getFontShorthand(element) {\n  if (!element) {\n    return '';\n  }\n\n  var style = window.getComputedStyle(element);\n\n  if (style.font) {\n    return style.font;\n  }\n\n  var isFontDefined = style['font-family'] !== '';\n\n  if (!isFontDefined) {\n    return '';\n  }\n\n  var fontVariant = allowedVariants.includes(style['font-variant']) ? style['font-variant'] : 'normal';\n  return \"\".concat(style['font-style'], \" \").concat(fontVariant, \" \").concat(style['font-weight'], \" \").concat(style['font-size'], \" / \").concat(style['line-height'], \" \").concat(style['font-family']);\n}\n/**\n * Measures text width given text and font CSS shorthand.\n *\n * @param {string} text Text to measure\n * @param {string} font Font to use when measuring the text\n */\n\nexport function measureText(text, font) {\n  var canvas = measureText.canvas || (measureText.canvas = document.createElement('canvas'));\n  var context = canvas.getContext('2d'); // Context type not supported\n\n  if (!context) {\n    return null;\n  }\n\n  context.font = font;\n\n  var _context$measureText = context.measureText(text),\n      width = _context$measureText.width;\n\n  return Math.ceil(width);\n}\n/**\n * Updates input element width to fit its content given input element\n * @param {HTMLInputElement} element\n */\n\nexport function updateInputWidth(element) {\n  if (typeof window === 'undefined' || !element) {\n    return null;\n  }\n\n  var font = getFontShorthand(element);\n  var text = element.value || element.placeholder;\n  var width = measureText(text, font);\n\n  if (width === null) {\n    return null;\n  }\n\n  element.style.width = \"\".concat(width, \"px\");\n  return width;\n}\nexport default updateInputWidth;","map":{"version":3,"names":["allowedVariants","getFontShorthand","element","style","window","getComputedStyle","font","isFontDefined","fontVariant","includes","concat","measureText","text","canvas","document","createElement","context","getContext","_context$measureText","width","Math","ceil","updateInputWidth","value","placeholder"],"sources":["/Users/eugen/work/reCards-with-Eugen/node_modules/update-input-width/dist/esm/index.js"],"sourcesContent":["var allowedVariants = ['normal', 'small-caps'];\n/**\n * Gets font CSS shorthand property given element.\n *\n * @param {HTMLElement} element Element to get font CSS shorthand property from\n */\n\nexport function getFontShorthand(element) {\n  if (!element) {\n    return '';\n  }\n\n  var style = window.getComputedStyle(element);\n\n  if (style.font) {\n    return style.font;\n  }\n\n  var isFontDefined = style['font-family'] !== '';\n\n  if (!isFontDefined) {\n    return '';\n  }\n\n  var fontVariant = allowedVariants.includes(style['font-variant']) ? style['font-variant'] : 'normal';\n  return \"\".concat(style['font-style'], \" \").concat(fontVariant, \" \").concat(style['font-weight'], \" \").concat(style['font-size'], \" / \").concat(style['line-height'], \" \").concat(style['font-family']);\n}\n/**\n * Measures text width given text and font CSS shorthand.\n *\n * @param {string} text Text to measure\n * @param {string} font Font to use when measuring the text\n */\n\nexport function measureText(text, font) {\n  var canvas = measureText.canvas || (measureText.canvas = document.createElement('canvas'));\n  var context = canvas.getContext('2d'); // Context type not supported\n\n  if (!context) {\n    return null;\n  }\n\n  context.font = font;\n\n  var _context$measureText = context.measureText(text),\n      width = _context$measureText.width;\n\n  return Math.ceil(width);\n}\n/**\n * Updates input element width to fit its content given input element\n * @param {HTMLInputElement} element\n */\n\nexport function updateInputWidth(element) {\n  if (typeof window === 'undefined' || !element) {\n    return null;\n  }\n\n  var font = getFontShorthand(element);\n  var text = element.value || element.placeholder;\n  var width = measureText(text, font);\n\n  if (width === null) {\n    return null;\n  }\n\n  element.style.width = \"\".concat(width, \"px\");\n  return width;\n}\nexport default updateInputWidth;"],"mappings":"AAAA,IAAIA,eAAe,GAAG,CAAC,QAAD,EAAW,YAAX,CAAtB;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;EACxC,IAAI,CAACA,OAAL,EAAc;IACZ,OAAO,EAAP;EACD;;EAED,IAAIC,KAAK,GAAGC,MAAM,CAACC,gBAAP,CAAwBH,OAAxB,CAAZ;;EAEA,IAAIC,KAAK,CAACG,IAAV,EAAgB;IACd,OAAOH,KAAK,CAACG,IAAb;EACD;;EAED,IAAIC,aAAa,GAAGJ,KAAK,CAAC,aAAD,CAAL,KAAyB,EAA7C;;EAEA,IAAI,CAACI,aAAL,EAAoB;IAClB,OAAO,EAAP;EACD;;EAED,IAAIC,WAAW,GAAGR,eAAe,CAACS,QAAhB,CAAyBN,KAAK,CAAC,cAAD,CAA9B,IAAkDA,KAAK,CAAC,cAAD,CAAvD,GAA0E,QAA5F;EACA,OAAO,GAAGO,MAAH,CAAUP,KAAK,CAAC,YAAD,CAAf,EAA+B,GAA/B,EAAoCO,MAApC,CAA2CF,WAA3C,EAAwD,GAAxD,EAA6DE,MAA7D,CAAoEP,KAAK,CAAC,aAAD,CAAzE,EAA0F,GAA1F,EAA+FO,MAA/F,CAAsGP,KAAK,CAAC,WAAD,CAA3G,EAA0H,KAA1H,EAAiIO,MAAjI,CAAwIP,KAAK,CAAC,aAAD,CAA7I,EAA8J,GAA9J,EAAmKO,MAAnK,CAA0KP,KAAK,CAAC,aAAD,CAA/K,CAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASQ,WAAT,CAAqBC,IAArB,EAA2BN,IAA3B,EAAiC;EACtC,IAAIO,MAAM,GAAGF,WAAW,CAACE,MAAZ,KAAuBF,WAAW,CAACE,MAAZ,GAAqBC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAA5C,CAAb;EACA,IAAIC,OAAO,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAd,CAFsC,CAEC;;EAEvC,IAAI,CAACD,OAAL,EAAc;IACZ,OAAO,IAAP;EACD;;EAEDA,OAAO,CAACV,IAAR,GAAeA,IAAf;;EAEA,IAAIY,oBAAoB,GAAGF,OAAO,CAACL,WAAR,CAAoBC,IAApB,CAA3B;EAAA,IACIO,KAAK,GAAGD,oBAAoB,CAACC,KADjC;;EAGA,OAAOC,IAAI,CAACC,IAAL,CAAUF,KAAV,CAAP;AACD;AACD;AACA;AACA;AACA;;AAEA,OAAO,SAASG,gBAAT,CAA0BpB,OAA1B,EAAmC;EACxC,IAAI,OAAOE,MAAP,KAAkB,WAAlB,IAAiC,CAACF,OAAtC,EAA+C;IAC7C,OAAO,IAAP;EACD;;EAED,IAAII,IAAI,GAAGL,gBAAgB,CAACC,OAAD,CAA3B;EACA,IAAIU,IAAI,GAAGV,OAAO,CAACqB,KAAR,IAAiBrB,OAAO,CAACsB,WAApC;EACA,IAAIL,KAAK,GAAGR,WAAW,CAACC,IAAD,EAAON,IAAP,CAAvB;;EAEA,IAAIa,KAAK,KAAK,IAAd,EAAoB;IAClB,OAAO,IAAP;EACD;;EAEDjB,OAAO,CAACC,KAAR,CAAcgB,KAAd,GAAsB,GAAGT,MAAH,CAAUS,KAAV,EAAiB,IAAjB,CAAtB;EACA,OAAOA,KAAP;AACD;AACD,eAAeG,gBAAf"},"metadata":{},"sourceType":"module"}